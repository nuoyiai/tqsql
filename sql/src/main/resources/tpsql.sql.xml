<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">
	
	<import resource="classpath:tpsql.core.xml" />

	<bean id="ObjectReader" class="tpsql.sql.command.SqlObjectReader" />
	
	<bean id="DbConfigFactory" class="tpsql.sql.config.DefaultConfigFactory" />
	
	<bean id="DriverProviderBuilder" class="tpsql.sql.driver.DataProviderBuilder" >
	    <property name="dbConfigFactory"  ref="DbConfigFactory" />
    </bean>
    
    <bean id="AbstractSqlMap" class="tpsql.sql.mapping.SqlMap" abstract="true" >
		<property name="contexts">
			<set>
				<ref bean="SqlContext"></ref>
			</set>
		</property>
	</bean>
	
	<bean id="SqlContext" class="tpsql.sql.mapping.SqlContext" >
		<property name="resources" >
			<set>
				<value>classpath*:/tpsql.sqlMap.xml</value>
			</set>
		</property>
		<property name="asserts" >
			<set>
				<ref bean="isNull" />
				<ref bean="isNotEmpty" />
				<ref bean="isAllNotEmpty" />
				<ref bean="isNullOrEmpty" />
				<ref bean="isEqual" />
				<ref bean="isGreater" />
				<ref bean="isLess" />
				<ref bean="isGreaterOrEqual" />
				<ref bean="isLessOrEqual" />
				<ref bean="hasTime" />
				<ref bean="hasValue" />
				<ref bean="isDbType" />
			</set>
		</property>
		<property name="methods" >
			<set>
				<ref bean="beginDate" />
				<ref bean="endDate" />
				<ref bean="toDate" />
				<ref bean="toTimeSecond" />
				<ref bean="currentDate" />
				<ref bean="currentDateTime" />
				<ref bean="currentTime" />
				<ref bean="like" />
				<ref bean="rlike" />
				<ref bean="llike" />
				<ref bean="getSqlValue" />
				<ref bean="getSqlValueList" />
				<ref bean="quote"/>
			</set>
		</property>
	</bean>
	
	<!-- 判断为空 isNull(p1) -->
	<bean id="isNull" class="tpsql.sql.mapping.asserts.IsNull" />
	<!-- 判断不为空或不为空字符串  isNotEmpty(p1) -->
	<bean id="isNotEmpty" class="tpsql.sql.mapping.asserts.IsNotEmpty" />
	<!-- 判断都不为空或都不为空字符串  isAllNotEmpty(p1) -->
	<bean id="isAllNotEmpty" class="tpsql.sql.mapping.asserts.IsAllNotEmpty" />
	<!-- 判断为空或空字符串  isNullOrEmpty(p1) -->
	<bean id="isNullOrEmpty" class="tpsql.sql.mapping.asserts.IsNullOrEmpty" />
	<!-- 判断是否相等 isEqual(p1,p2) -->
	<bean id="isEqual" class="tpsql.sql.mapping.asserts.IsEqual" />
	<!-- 判断是否大于 isGreater(p1,p2) -->
	<bean id="isGreater" class="tpsql.sql.mapping.asserts.IsGreater" />
	<!-- 判断是否小于 isLess(p1,p2) -->
	<bean id="isLess" class="tpsql.sql.mapping.asserts.IsLess" />
	<!-- 判断是否大于或等于 isGreaterOrEqual(p1,p2) -->
	<bean id="isGreaterOrEqual" class="tpsql.sql.mapping.asserts.IsGreaterOrEqual" />
	<!-- 判断是否小于或等于 isLessOrEqual(p1,p2) -->
	<bean id="isLessOrEqual" class="tpsql.sql.mapping.asserts.IsLessOrEqual" />
	<!-- 判断是否包含时间  -->
	<bean id="hasTime" class="tpsql.sql.mapping.asserts.HasTime" />
	<!-- 是否包含某个值 hasValue(p1,p2)  -->
	<bean id="hasValue" class="tpsql.sql.mapping.asserts.HasValue" />
	<!-- 判断数据库的类型 isDbType('DB2') -->
	<bean id="isDbType" class="tpsql.sql.mapping.asserts.IsDbType" />
	
	<!-- 得到一天的开始时刻 23:59:59 -->
	<bean id="beginDate" class="tpsql.sql.mapping.methods.BeginDate" />
	<!-- 得到一天的结束时刻 00:00:00-->
	<bean id="endDate" class="tpsql.sql.mapping.methods.EndDate" />
	<!-- 根据数据库不同转化为相应的日期格式 -->
	<bean id="toDate" class="tpsql.sql.mapping.methods.ToDate" />
	<!-- 把时间转化为秒数 -->
	<bean id="toTimeSecond" class="tpsql.sql.mapping.methods.ToTimeSecond" />
	<!-- 当前日期 -->
	
	<bean id="currentDate" class="tpsql.sql.mapping.methods.CurrentDate" />
	<!-- 当前日期时间 -->
	<bean id="currentDateTime" class="tpsql.sql.mapping.methods.CurrentDateTime" />
	<!-- 当前时间 -->
	<bean id="currentTime" class="tpsql.sql.mapping.methods.CurrentTime" />
	<!-- 模糊配置 '%text%' -->
	<bean id="like" class="tpsql.sql.mapping.methods.Like" />
	<!-- 模糊配置 'text%' -->
	<bean id="rlike" class="tpsql.sql.mapping.methods.RLike" />
	<!-- 模糊配置 '%text' -->
	<bean id="llike" class="tpsql.sql.mapping.methods.LLike" />
	<!-- 调Sql返回值 -->
	<bean id="getSqlValue" class="tpsql.sql.mapping.methods.GetSqlValue" />
	<!-- 调Sql返回值的集合 -->
	<bean id="getSqlValueList" class="tpsql.sql.mapping.methods.GetSqlValueList" />
	<!-- 字符串外添加开闭符 -->
	<bean id="quote" class="tpsql.sql.mapping.methods.Quote" />
	
	<!-- 精确查询 -->
	<bean id="equal" class="tpsql.sql.condition.EqualCondition" />
	<!-- 多项精确查询 -->
	<bean id="equals" class="tpsql.sql.condition.EqualsCondition" />
	<!-- 模糊查询 -->
	<bean id="fuzzy" class="tpsql.sql.condition.FuzzyCondition" />
	<!-- 模糊查询,左匹配 -->
	<bean id="lfuzzy" class="tpsql.sql.condition.FuzzyLeftCondition" />
	<!-- 模糊查询,右匹配 -->
	<bean id="rfuzzy" class="tpsql.sql.condition.FuzzyRightCondition" />
	<!-- 日期段查询 -->
	<bean id="datespan" class="tpsql.sql.condition.DateSpanCondition" />
	<!-- 数字段查询 -->
	<bean id="numspan" class="tpsql.sql.condition.NumberSpanCondition" />
	
 </beans>